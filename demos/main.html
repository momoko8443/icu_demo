<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="css/purecss/build/pure-min.css">
    <link rel="stylesheet" href="css/purecss/build/grids-responsive-min.css">
    <link rel="stylesheet" href="css/main.css">
</head>

<body uku-application>
    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

    <div class="pure-g container">
        <div class="pure-u-1 pure-u-md-3-4 main">
            <h1 class="waiting content-subhead" uku-render="appCtrl.waitingJoin">等待对方加入...</h1>
            <video autoplay="autoplay" playsinline="playsinline" style="height: 100%;width: 100%" id="callerVideo"></video>
        </div>
        <div class="pure-u-1 pure-u-md-1-4 sub">
            <div class="pure-g height100">
                <div class="pure-u-1-2 pure-u-md-1 self">
                    <h1 class="waiting content-subhead" uku-render="appCtrl.loadCamera">正在开启摄像头...</h1>
                    <video autoplay="autoplay" playsinline="playsinline" style="height: 100%;width: 100%" id="selfVideo" muted="muted" volume="0"></video>
                </div>
                <div class="pure-u-1-2 pure-u-md-1 console" uku-render="appCtrl.clientMode === 'active'">
                    <div uku-render="appCtrl.canInvite">
                        <h2 class="post-title">{{appCtrl.otherClientName}}</h2>
                        <a class="pure-button pure-button-primary" href="#" uku-onclick="appCtrl.call()">呼叫</a>
                    </div>
                    <div uku-render="appCtrl.inMeeting">
                        <h2 class="post-title">通话时间</h2>
                        <h2 class="post-title">{{appCtrl.time}}</h2>
                        <a class="pure-button pure-button-primary" href="#" uku-onclick="appCtrl.hangUp()">挂断</a>
                    </div>
                </div>
                <div class="pure-u-1-2 pure-u-md-1 console" uku-render="appCtrl.clientMode === 'passive'">
                        <div uku-render="appCtrl.hasInvite">
                            <h2 class="post-title">{{'来自 ' + appCtrl.callerName +' 的通话邀请'}}</h2>
                            <a class="pure-button pure-button-primary" href="#" uku-onclick="appCtrl.accept()">接受</a>
                        </div>
                        <div uku-render="appCtrl.inMeeting">
                            <h2 class="post-title">通话时间</h2>
                            <h2 class="post-title">{{appCtrl.time}}</h2>
                            <a class="pure-button pure-button-primary" href="#" uku-onclick="appCtrl.hangUp()">挂断</a>
                        </div>
                    </div>
            </div>
        </div>
    </div>
</body>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript" src="/easyrtc/easyrtc.js"></script>
<script type="text/javascript" src="js/ukulele/uku.js" ></script>
<script type="text/javascript" src="js/main.js"></script>
</html>